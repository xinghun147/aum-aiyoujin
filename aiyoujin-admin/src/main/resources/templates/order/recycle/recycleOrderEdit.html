<style>
	.flow-default{width: 600px; height: 400px; overflow: auto; font-size: 0;}
	.flow-default li{display: inline-block; margin: 0 5px; font-size: 14px; width: 48%;  margin-bottom: 10px; height: 100px; line-height: 100px; text-align: center; background-color: #eee;}
	.flow-default img{width: 100%; height: 100%;}
	.site-demo-flow{width: 600px; height: 300px; overflow: auto; text-align: center;}
	.site-demo-flow img{width: 40%; height: 200px; margin: 0 2px 5px 0; border: none;}
</style>
<!--<form id="editForm" name="editForm" class="layui-form"  action="/recycle/recycleProductEdit.html">
	<input type="hidden" id="id" name="id" th:value="${data}?${data.id}:''"/>-->
	<div class="layui-form-item">
		<div class="layui-inline">
		</div>
	</div>
	<fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
		<legend>订单基本信息</legend>
	</fieldset>
	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">订单号</label>
			<div class="layui-input-inline">
				<input type="text" id="orderNo" name="orderNo" class="layui-input" readonly="readonly" th:value="${data}?${data.code}:''" placeholder="订单编号"/>
			</div>
		</div>

		<div class="layui-inline">
			<label class="layui-form-label">产品名称</label>
			<div class="layui-input-inline">
				<input type="text" id="productName" name="productName" class="layui-input" readonly="readonly" th:value="${data}?${data.productName}:''" placeholder="产品名称"/>
			</div>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">联系人</label>
			<div class="layui-input-inline">
				<input type="text" id="contact" name="contact" class="layui-input" readonly="readonly" th:value="${data}?${data.contact}:''" placeholder="联系人"/>
			</div>
		</div>

		<div class="layui-inline">
			<label class="layui-form-label">联系电话</label>
			<div class="layui-input-inline">
				<input type="text" id="telephone" name="telephone" class="layui-input" readonly="readonly" th:value="${data}?${data.telephone}:''" placeholder="联系电话"/>
			</div>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">取货地址</label>
			<div class="layui-input-inline">
				<input type="text" id="address" name="address" class="layui-input" readonly="readonly" th:value="${data}?${data.address}:''" placeholder="取货地址"/>
			</div>
		</div>

		<div class="layui-inline">
			<label class="layui-form-label">总件数</label>
			<div class="layui-input-inline">
				<input type="text" id="applyQuantity" name="applyQuantity" class="layui-input" readonly="readonly" th:value="${data}?${data.applyQuantity}:''" placeholder="总件数"/>
			</div>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">总克重</label>
			<div class="layui-input-inline">
				<input type="text" id="applyWeight" name="applyWeight" class="layui-input" readonly="readonly" th:value="${data}?${data.applyWeight}:''" placeholder="总克重"/>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">预约时间</label>
			<div class="layui-input-inline">
				<input type="text" id="appointmentTime" name="appointmentTime" class="layui-input" readonly="readonly" th:value="${data.appointmentTime}?${#dates.format(data.appointmentTime,'yyyy-MM-dd hh:mm:ss')}:''" placeholder="预约时间"/>
			</div>
		</div>
		<!-- <div class="layui-inline">
			<label class="layui-form-label">物流方式</label>
			<div class="layui-input-inline">
				<input type="text" id="expressMode" name="expressMode" class="layui-input" readonly="readonly" th:value="${data}?${data.expressMode}:''" placeholder="物流方式"/>
			</div>
		</div> -->
	</div>

	<div class="layui-form-item">
		<!-- <div class="layui-inline">
			<label class="layui-form-label">预约时间</label>
			<div class="layui-input-inline">
				<input type="text" id="appointmentTime" name="appointmentTime" class="layui-input" readonly="readonly" th:value="${data.appointmentTime}?${#dates.format(data.appointmentTime,'yyyy-MM-dd hh:mm:ss')}:''" placeholder="预约时间"/>
			</div>
		</div> -->
		<!-- <div class="layui-inline">
			<label class="layui-form-label">快递公司</label>
			<div class="layui-input-inline">
				<input readonly ="readonly" type="text" id="expressCompany"  name="expressCompany" th:value="${data}?${data.expressCompany}:''" class="layui-input" placeholder="快递公司"/>
			</div>
		</div> -->
	</div>

	<div class="layui-form-item">
		<!-- <div class="layui-inline">
			<label class="layui-form-label">快递单号</label>
			<div class="layui-input-inline">
				<input type="text" id="expressNo" name="expressNo"  class="layui-input" readonly="readonly" th:value="${data}?${data.expressNo}:''" placeholder="快递单号"/>
			</div>
		</div> -->
		<!--
                <div class="layui-inline">
                    <label class="layui-form-label">开售时间</label>
                    <div class="layui-input-inline">
                        <input type="text" id="sellBeginTime" name="sellBeginTime" th:value="${data}?${#dates.format(data.product.sellBeginTime,'yyyy-MM-dd hh:mm:ss')}:''" class="layui-input" lay-verify="required" placeholder="产品编号"/>
                    </div>
                </div>-->
	</div>
	<th:block id="LAY_demo3" th:if="${not #lists.isEmpty(data.recycleDocuments)}">
			<th:block th:each="item:${data.recycleDocuments}">
				<th:block th:if="${item.type eq 3}">
					<fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
						<legend>手持身份证照片</legend>
					</fieldset>
					<div class="site-demo-flow" id="LAY_demo3" >
						<img th:src="${item.url}"></img>
					</div>
				</th:block>
			</th:block>
	</th:block>
	<fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
		<legend>实物图片</legend>
	</fieldset>
	<div class="site-demo-flow" id="LAY_demo3" th:if="${not #lists.isEmpty(data.recycleDocuments)}">
		<th:block th:each="item:${data.recycleDocuments}">
			<th:block th:if="${item.type eq 0}">
				<img th:src="${item.url}"></img>
			</th:block>
		</th:block>
	</div>

	<form id="auditForm" name="auditForm" class="layui-form"  action="/recycle/auditRecycleOrder.html" th:style="'display:' + @{(${data.status &gt; 0} ? 'block' : 'none')} + ''">
		<input type="hidden" id="auditId" name="auditId" th:value="${data}?${data.id}:''"/>
	<fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
		<legend>订单审核情况</legend>
	</fieldset>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">审核结果</label>
			<div class="layui-input-inline">
				<!--<input type="text" id="auditResult" name="auditResult" class="layui-input" lay-verify="required" th:value="${data}?${data.auditResult}:''" placeholder="审核结果" />-->
				<!--审核结果默认为拒绝！值为1-->
				<!--<input type="checkbox" lay-filter="auditResultFilter" id="auditResult" name="auditResult" th:checked="${data}?${data.auditResult == 0}:false" th:value="${data}?${data.auditResult}:'1'"  lay-skin="switch" lay-text="通过|拒绝"/>-->
				<input readonly="readonly" type="text" id="auditResult" name="auditResult" class="layui-input" lay-verify="required" th:value="${data.auditResult == 0}?'通过':'拒绝'" placeholder="审核结果" />
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">审核人</label>
			<div class="layui-input-inline">
				<input readonly="readonly" type="text" id="auditBy"  name="auditBy" class="layui-input" th:value="${data}?${data.auditBy}:''" placeholder="不需要填写"/>
			</div>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">审核时间</label>
			<div class="layui-input-inline">
				<input readonly="readonly" type="text" id="auditTime" name="auditTime" class="layui-input" th:value="${data.auditTime}?${#dates.format(data.auditTime,'yyyy-MM-dd hh:mm:ss')}:''" placeholder="不需要填写"/>
			</div>
		</div>
	</div>

		<div class="layui-form-item">
			<div class="layui-inline">
				<label class="layui-form-label">审核说明</label>
				<div class="layui-input-inline">
					<!--<input  type="text" id="auditRemark"  name="auditRemark" class="layui-input" th:value="${data}?${data.auditRemark}:''" placeholder="审核说明"/>-->
					<textarea readonly="readonly" placeholder="审核说明" class="layui-textarea" id="auditRemark"  name="auditRemark" th:text="${data}?${data.auditRemark}:''" style="width: 513px;"></textarea>
				</div>
			</div>
		</div>

	<!--	<div class="layui-form-item">
			<div class="layui-form-item">
				<div class="layui-input-block">
					<button class="layui-btn" lay-submit="" lay-filter="auditForm">提交审核</button>
				</div>
			</div>
		</div>-->
	</form>

	<form id="verifyForm" name="verifyForm" class="layui-form"  action="/recycle/recycleProductEdit.html"  th:style="'display:' + @{(${data.status &gt; 2}  ? 'block' : 'none')} + ''">
		<input type="hidden" id="verifyId" name="verifyId" th:value="${data}?${data.id}:''"/>
	<fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
		<legend>产品检测情况</legend>
	</fieldset>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">实测总毛重</label>
			<div class="layui-input-inline">
				<input readonly="readonly" type="text" id="realGrossWeight" name="realGrossWeight" class="layui-input" th:value="${data}?${data.realGrossWeight}:''" placeholder="实测总毛重"/>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">克重损耗</label>
			<div class="layui-input-inline">
				<input readonly="readonly" type="text" id="realLoss"  name="realLoss" class="layui-input" th:value="${data}?${data.realLoss}:''" placeholder="克重损耗"/>
			</div>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">实测总净重</label>
			<div class="layui-input-inline">
				<input readonly="readonly" type="text" id="realNetWeight" name="realNetWeight" class="layui-input" th:value="${data}?${data.realNetWeight}:''" placeholder="实测总净重"/>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">实收金价</label>
			<div class="layui-input-inline">
				<input readonly="readonly" type="text" id="realPrice"  name="realPrice" class="layui-input" th:value="${data}?${data.realPrice}:''" placeholder="实收金价"/>
			</div>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">检测人</label>
			<div class="layui-input-inline">
				<input readonly="readonly" type="text" id="verifyBy" name="verifyBy" class="layui-input" th:value="${data}?${data.verifyBy}:''" placeholder="检测人"/>
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">检测时间</label>
			<div class="layui-input-inline">
				<input readonly="readonly" type="text" id="verifyTime"  name="verifyTime" class="layui-input" th:value="${data.verifyTime}?${#dates.format(data.verifyTime,'yyyy-MM-dd hh:mm:ss')}:''" placeholder="请选择检测时间"/>
			</div>
		</div>
	</div>

	<div class="layui-form-item">
		<!-- <div class="layui-inline">
			<label class="layui-form-label">检测结果</label>
			<div class="layui-input-inline" th:switch="${data.verifyResult}">
				<input type="text" readonly="readonly" name="auditResult" class="layui-input" th:case="0" value="检测通过"/>
				<input type="text" readonly="readonly" name="auditResult" class="layui-input" th:case="1" value="检测不通过"/>
				<input type="text" readonly="readonly" name="auditResult" class="layui-input" th:case="2" value="直接存入"/>
				<input type="text" readonly="readonly" name="auditResult" class="layui-input" th:case="*" value="未知检测状态"/>
			</div>
		</div> -->
		<div class="layui-inline">
			<label class="layui-form-label">检测说明</label>
			<div class="layui-input-inline">
				<!--<input type="text" id="verifyRemark" name="verifyRemark" class="layui-input" th:value="${data}?${data.verifyRemark}:''" placeholder="检测说明"/>-->
				<textarea readonly="readonly" placeholder="检测说明" class="layui-textarea" id="verifyRemark" name="verifyRemark" th:text="${data}?${data.verifyRemark}:''" style="width: 513px;"></textarea>
			</div>
		</div>
	</div>
<!--
		<div class="layui-form-item">
			<div class="layui-form-item">
				<div class="layui-input-block">
					<button class="layui-btn" lay-submit="" lay-filter="verifyForm">提交检测</button>
				</div>
			</div>
		</div>-->
	</form>
	<fieldset class="layui-elem-field layui-field-title" th:style="'display:' + @{(${data.status &gt; 2}  ? 'block' : 'none')} + ''" style="margin-top: 10px;">
		<legend>检测文件</legend>
	</fieldset>

	<div class="layui-upload" th:style="'display:' + @{(${data.status &gt; 2}  ? 'block' : 'none')} + ''">
		<div class="layui-upload-list">
			<table class="layui-table">
				<thead>
				<tr><th>文件类型</th>
					<th>文件名称</th>
					<th>状态</th>
					<th>操作</th>
				</tr></thead>
				<tbody id="demoList">
				<th:block th:if="${not #lists.isEmpty(data.recycleDocuments)}">
					<tr th:each="item:${data.recycleDocuments}">
						<th:block th:if="${item.type eq 2}">
						<td>检测报告</td>
						<td th:text="${item.name}"></td>
						<td>已上传</td>
						<!-- <td>
							<button class="layui-btn layui-btn-mini demo-reload layui-hide">重传</button>
							<button class="layui-btn layui-btn-mini layui-btn-danger demo-delete">删除</button>
						</td>-->
						<td><a th:href="@{${item.url}}" th:attr="download=${item.url}">下载</a></td>
						</th:block>
					</tr>
				</th:block>
				</tbody>
			</table>
		</div>
	<!--	<div class="layui-form-item">
			<div class="layui-form-item">
				<div class="layui-input-block">
					<button type="button" class="layui-btn" id="testListAction" >开始上传</button>
				</div>
			</div>
		</div>-->
	</div>
<!--</form>-->
<script>
    layui.use(['jquery','form', 'laydate'], function(){
        var $ = layui.jquery;
        var form = layui.form
            ,layer = layui.layer
            ,laydate = layui.laydate;
        //日期
        laydate.render({
            elem: '#verifyTime',
            type: 'datetime'
        });
    });
/*        //监听提交
        form.on('submit(auditForm)', function(data){
            var data = data.field;
            $.post('auditRecycleOrder.html', data, function(result){
                if(result != null){
                    if(result == 0) {
                        layer.msg('审核成功');
                        location.reload();
                        return false;
                    }
				}
				layer.msg('审核失败');
            });
            return false;
        });

        form.on('submit(verifyForm)',function (data) {
            var data = data.field;
            $.post('verifyRecycleOrder.html', data, function(result){
                if(result != null){
                    if(result == 0) {
                        layer.msg('提交检测结果成功');
                        location.reload();
                        return false;
                    }
                }
                layer.msg('提交检测结果失败');
            });
            return false;
        });
        form.on('switch(auditResultFilter)', function(data){
			if(data.elem.checked){
                $("#auditResult").val(0);
			}else{
                $("#auditResult").val(1);
			}
        });
        form.render('checkbox');
    });*/

/*    layui.use('upload', function(){
        //多文件列表示例
        var $ = layui.jquery
            ,upload = layui.upload,
			layer = layui.layer;
        var orderNo = $('#orderNo').val();
        console.log(orderNo);
        var demoListView = $('#demoList')
            ,uploadListIns = upload.render({
            elem: '#testListAction'
            ,url: '/recycleOrder/uploadRecycleRemark.html?orderNo='+orderNo
            ,accept: 'file'
            ,multiple: true
            /!*,auto: false
            ,bindAction: '#testListAction'*!/
            ,done: function(res, index, upload){
                if(res != null){ //上传成功
                    layer.msg('上传成功！');
                    var demoListView = $('#demoList');
                    var tr = $(['<tr>'
                        ,'<td>'+ res.type +'</td>'
                        ,'<td>'+ res.url +'</td>'
                        ,'<td>已上传</td>'
                        ,'<td>'
                        ,'<button class="layui-btn layui-btn-mini layui-btn-danger demo-delete" data="'+res.id+'">删除</button>'
                        ,'</td>'
                        ,'</tr>'].join(''));
                    demoListView.append(tr);
                    return;
                }
                this.error(index, upload);
            }
            ,error: function(index, upload){
                layer.msg('上传失败，请重新尝试！');
            }
        });*/

</script>
